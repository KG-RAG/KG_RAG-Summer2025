# 前端Agent智能抽取模块使用说明

## 📋 模块概述

前端Agent智能抽取模块为教师提供了直观易用的文本抽取界面，支持多种抽取算法，包括TF-IDF、TextRank、HanLP命名实体识别等。

## 🚀 快速开始

### 1. 启动前端项目

```bash
cd kgBuilder-ui
npm install
npm run serve
```

### 2. 访问Agent模块

启动后访问：`http://localhost:8080`

在主页面左侧图谱列表区域，您会看到两个新的按钮：
- 🤖 **智能抽取** - 单个文本抽取
- 📦 **批量抽取** - 批量文本处理

## 📱 界面功能

### 1. 智能抽取界面 (`/agent/extraction`)

#### 主要功能
- **文本输入**: 支持多行文本输入
- **算法选择**: 5种抽取算法可选
- **参数配置**: 关键词数量等参数调整
- **结果展示**: 可视化展示抽取结果
- **结果导出**: 支持JSON格式导出

#### 界面布局
```
┌─────────────────────────────────────────────────────────────┐
│                    🤖 Agent智能抽取模块                      │
├─────────────────────┬───────────────────────────────────────┤
│ 📝 文本输入区域      │ 📊 抽取结果显示区域                   │
│ ├─ 抽取方法选择      │ ├─ 统计信息                          │
│ ├─ 关键词数量设置    │ ├─ TF-IDF关键词                      │
│ ├─ 文本输入框        │ ├─ TextRank关键词                    │
│ └─ 操作按钮          │ ├─ 关键句                            │
│                     │ ├─ 识别实体                          │
│                     │ └─ 实体关系                          │
├─────────────────────┴───────────────────────────────────────┤
│ 📋 示例文本区域                                              │
│ ├─ 人物关系示例                                              │
│ ├─ 技术概念示例                                              │
│ └─ 长文本示例                                                │
└─────────────────────────────────────────────────────────────┘
```

#### 使用步骤
1. **选择抽取方法**: 推荐使用"自动抽取"
2. **设置参数**: 调整关键词数量（1-50）
3. **输入文本**: 在文本框中输入要抽取的内容
4. **开始抽取**: 点击"🚀 开始抽取"按钮
5. **查看结果**: 在右侧查看抽取结果
6. **导出结果**: 点击"导出结果"保存JSON文件

### 2. 批量抽取界面 (`/agent/batch`)

#### 主要功能
- **批量输入**: 支持多行文本或文件上传
- **进度显示**: 实时显示处理进度
- **结果统计**: 成功/失败数量统计
- **结果列表**: 可折叠的结果详情
- **批量导出**: 导出所有处理结果

#### 界面布局
```
┌─────────────────────────────────────────────────────────────┐
│                    📦 批量抽取工具                          │
├─────────────────────┬───────────────────────────────────────┤
│ 📝 批量输入区域      │ 📊 批量处理结果区域                   │
│ ├─ 抽取方法选择      │ ├─ 进度条                           │
│ ├─ 输入方式选择      │ ├─ 统计信息                          │
│ ├─ 文本列表输入      │ └─ 结果列表                          │
│ └─ 文件上传          │                                     │
├─────────────────────┴───────────────────────────────────────┤
```

#### 使用步骤
1. **选择输入方式**: 文本区域或文件上传
2. **输入文本**: 每行一个文本，或上传txt/csv文件
3. **开始处理**: 点击"🚀 开始批量抽取"
4. **查看进度**: 实时查看处理进度
5. **查看结果**: 展开查看每个文本的处理结果
6. **导出结果**: 点击"导出所有结果"

## 🔧 功能特性

### 1. 智能抽取功能

#### 支持的算法
- **自动抽取**: 根据文本长度自动选择最佳算法
- **TF-IDF**: 基于词频-逆文档频率的关键词提取
- **TextRank**: 基于图排序的关键词和关键句提取
- **HanLP**: 命名实体识别和关系抽取
- **混合策略**: 结合多种算法的综合抽取

#### 结果展示
- **关键词**: 以标签形式展示，支持TF-IDF和TextRank两种
- **关键句**: 以卡片形式展示重要句子
- **实体识别**: 表格形式展示实体名称、类型、置信度
- **关系抽取**: 表格形式展示实体间关系
- **置信度**: 进度条形式展示抽取置信度

### 2. 批量处理功能

#### 输入方式
- **文本区域**: 支持多行文本输入，每行一个文本
- **文件上传**: 支持txt、csv文件上传

#### 处理特性
- **进度显示**: 实时显示处理进度和当前处理的文本
- **错误处理**: 单个文本失败不影响其他文本处理
- **结果统计**: 显示成功和失败的数量
- **结果详情**: 可折叠查看每个文本的详细结果

### 3. 用户体验

#### 界面设计
- **响应式布局**: 适配不同屏幕尺寸
- **现代化UI**: 使用Element UI组件库
- **直观操作**: 简单易用的操作流程
- **实时反馈**: 操作状态和结果实时反馈

#### 交互体验
- **示例文本**: 提供多种示例文本快速体验
- **参数调整**: 灵活的算法参数配置
- **结果导出**: 支持JSON格式结果导出
- **错误提示**: 友好的错误信息提示

## 📊 使用示例

### 示例1：人物关系抽取
```
输入文本：
张三在北京大学计算机科学系工作，他主要研究人工智能和机器学习。李四是清华大学的研究生，正在研究深度学习算法。

抽取结果：
- 实体：张三(PERSON)、北京大学(ORGANIZATION)、人工智能(CONCEPT)
- 关系：张三-在-北京大学、张三-研究-人工智能
- 关键词：张三、北京大学、人工智能、机器学习、深度学习
```

### 示例2：技术概念抽取
```
输入文本：
人工智能是计算机科学的一个分支，它企图了解智能的实质，并生产出一种新的能以人类智能相似的方式做出反应的智能机器。

抽取结果：
- 关键词：人工智能、计算机科学、智能、机器
- 关键句：人工智能是计算机科学的一个分支
- 实体：人工智能(CONCEPT)、计算机科学(CONCEPT)
```

## 🔍 常见问题

### Q1: 如何选择最适合的抽取方法？
**A**: 推荐使用"自动抽取"，系统会根据文本长度自动选择最适合的算法：
- 短文本(<100字符): TF-IDF
- 中等文本(100-500字符): TextRank  
- 长文本(500-2000字符): HanLP
- 超长文本(>2000字符): 混合策略

### Q2: 批量处理时如何处理大量文本？
**A**: 
1. 使用文件上传功能，支持txt、csv格式
2. 系统会逐个处理，单个失败不影响其他
3. 可以查看处理进度和统计信息
4. 支持导出所有处理结果

### Q3: 如何提高抽取准确率？
**A**:
1. 确保输入文本质量，避免过于简短的文本
2. 对于特定领域，可以调整关键词数量参数
3. 使用混合策略可以获得更全面的结果
4. 查看置信度，高置信度的结果更可靠

### Q4: 如何处理抽取失败的情况？
**A**:
1. 检查网络连接和后端服务状态
2. 确认输入文本不为空且格式正确
3. 尝试使用不同的抽取方法
4. 查看控制台错误信息进行排查

## 🛠️ 技术实现

### 前端技术栈
- **Vue.js 2.6.11**: 前端框架
- **Element UI 2.13.2**: UI组件库
- **Axios**: HTTP请求库
- **Vue Router**: 路由管理

### 文件结构
```
kgBuilder-ui/src/
├── api/modules/
│   └── agentExtractionApi.js    # API接口
├── views/agent/
│   ├── AgentExtraction.vue      # 智能抽取页面
│   └── BatchExtraction.vue      # 批量抽取页面
├── components/
│   └── AgentMenu.vue            # 导航菜单组件
└── router/
    └── index.js                 # 路由配置
```

### API接口
- `POST /api/agent/extract/tfidf` - TF-IDF关键词提取
- `POST /api/agent/extract/textrank` - TextRank关键词提取
- `POST /api/agent/extract/entities` - HanLP实体识别
- `POST /api/agent/extract/hybrid` - 混合抽取策略
- `POST /api/agent/extract/auto` - 自动抽取
- `GET /api/agent/methods` - 获取抽取方法列表

## 🚀 部署说明

### 开发环境
```bash
# 安装依赖
npm install

# 启动开发服务器
npm run serve

# 构建生产版本
npm run build
```

### 生产环境
```bash
# 构建生产版本
npm run build

# 部署到Web服务器
# 将dist目录下的文件部署到Web服务器根目录
```

## 📈 性能优化

### 1. 前端优化
- **组件懒加载**: 路由级别的代码分割
- **图片优化**: 使用WebP格式和图片压缩
- **缓存策略**: 合理使用浏览器缓存
- **代码压缩**: 生产环境代码压缩

### 2. 用户体验优化
- **加载状态**: 显示加载进度和状态
- **错误处理**: 友好的错误提示和重试机制
- **响应式设计**: 适配不同设备屏幕
- **操作反馈**: 及时的操作结果反馈

## 🔮 未来扩展

### 1. 功能扩展
- **更多算法**: 集成更多NLP算法
- **自定义词典**: 支持用户自定义词典
- **结果可视化**: 图表形式展示抽取结果
- **历史记录**: 保存和查看历史抽取记录

### 2. 性能扩展
- **Web Workers**: 使用Web Workers处理大量数据
- **虚拟滚动**: 处理大量结果数据
- **缓存优化**: 智能缓存策略
- **离线支持**: PWA离线功能支持

这个前端Agent智能抽取模块为教师提供了强大而易用的文本处理工具，支持多种抽取算法和批量处理功能，是知识图谱构建系统的重要组成部分！ 